<!DOCTYPE html>
<html>
<head>
<title>Evolution</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
body{ 
	margin:0px 0px 0px 0px;
	background: gold;
}
canvas{
	margin:1%;
	background: white;
}
</style>
<script type='text/javascript' src="./LifeTree.js"></script>
<script type='text/javascript' src="./ToolLine.js"></script>
<script type='text/javascript'>
window.onload = function() {

var Paint = function(index_i, index_j, mountDownFun)
{
	this.origin_x = 160;
	this.origin_y = 120;
	var canvas = document.createElement("canvas");
	var canvasAttrs = canvas.attributes;
	canvas.index_i = index_i;
	canvas.index_j = index_j;
	var init_gene = new Gene(5, 100, 30, 0.5, 10);
	init_gene.mutate();
	console.log(init_gene);
	canvas.life_tree = new LifeTree(init_gene);
	canvas.setAttribute("width", parseInt(2 * this.origin_x));
	canvas.setAttribute("height", parseInt(2 * this.origin_y));
	var normal_canvas_shadow = "5px 10px gray";
	canvas.setAttribute("style", "box-shadow: " + normal_canvas_shadow);
	document.body.appendChild(canvas);
	this.context = canvas.getContext("2d");
	this.context.strokeStyle = "black";
	this.context.lineWidth = 2;

	canvas.addEventListener("mouseenter", function( event ) {
		event.target.setAttribute("style","box-shadow: inset 0 0 10px #444444, " + normal_canvas_shadow);
	}, false);
	canvas.addEventListener("mouseleave", function( event ) {
		event.target.setAttribute("style", "box-shadow: " + normal_canvas_shadow);
	}, false);
	canvas.addEventListener("mousedown", mountDownFun, false);
	this.canvas = canvas;
}

Paint.prototype.x_axis = function(x)
{
	return x + this.origin_x;
}

Paint.prototype.y_axis = function(y)
{
	return y + this.origin_y;
}

Paint.prototype.animate = function()
{
	this.canvas.life_tree.animate(this);
}

var Choices = function()
{
	this.arr = [];
	var mountDownFun = function(event){
		var canvas = event.target;
	}
	for (var i = 0; i < 3; ++i) {
		var arr_temp = [];
		for (var j = 0; j < 2; ++j) {
			arr_temp.push(new Paint(i, j, mountDownFun));
		}
		this.arr.push(arr_temp);
	}

	for (var i in this.arr) {
		for (var j in this.arr[i]) {
			this.arr[i][j].animate();
		}
	}
}

var choices = new Choices();

} // window.onload
</script>
</head>
<body>
</body>
</html>
